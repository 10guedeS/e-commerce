<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>E-commerce Simples</title>
  <link rel="stylesheet" href="CSS/style.CSS" />
</head>
<body>
  <header class="topbar">
    <h1 class="logo">Minha Loja</h1>
    <div class="controls">
      <input id="search" type="search" placeholder="Buscar por nome..." aria-label="Buscar produtos por nome" />
      <select id="filter-category" aria-label="Filtrar por categoria">
        <option value="">Todas</option>
        <option value="Vestuário">Vestuário</option>
        <option value="Calçados">Calçados</option>
        <option value="Eletrônicos">Eletrônicos</option>
        <option value="Acessórios">Acessórios</option>
      </select>
      <select id="sort" aria-label="Ordenar produtos">
        <option value="">Ordenar</option>
        <option value="price_asc">Preço: menor → maior</option>
        <option value="price_desc">Preço: maior → menor</option>
        <option value="name_asc">Nome: A-Z</option>
        <option value="name_desc">Nome: Z-A</option>
      </select>
    </div>
    <button id="open-cart" class="cart-button" aria-haspopup="true" aria-controls="cart">Carrinho (0)</button>
  </header>

  <main class="container">
    <section id="products" class="products-grid">
      <article class="card" data-id="3" data-name="Fone Bluetooth" data-category="Eletrônicos" data-price="199.9">
        <img src="assets/img-camiseta.jpeg" alt="Camiseta Básica" class="card-img" />
        <div class="card-body">
          <h3 class="card-title">Camiseta Básica</h3>
          <p class="card-category">Vestuário</p>
          <p class="card-price">R$ 49,90</p>
          <div class="card-actions">
           <button class="secondary" data-action="detalhes"
              data-id="3"
              data-name="Fone Bluetooth"
              data-price="199.9"
              data-category="Eletrônicos"
              data-desc="Fone de ouvido sem fio com cancelamento de ruído."
              data-images="assets/img-fone.webp,assets/img-fone.webp,assets/img-fone.webp"
            >Detalhes</button>
            <button class="primary" data-action="add" data-id="3" data-name="Fone Bluetooth" data-price="199.9" data-image="assets/img-fone.webp">Adicionar</button>
          </div>
        </div>
      </article>
      <article class="card" data-id="4" data-name="Mochila Urbana" data-category="Acessórios" data-price="159.9">
        <img src="assets/img-fone.webp" alt="Fone Bluetooth" class="card-img" />
        <div class="card-body">
          <h3 class="card-title">Fone Bluetooth</h3>
          <p class="card-category">Eletrônicos</p>
          <p class="card-price">R$ 199,90</p>
          <div class="card-actions">
           <button class="secondary" data-action="detalhes"
              data-id="4"
              data-name="Mochila Urbana"
              data-price="159.9"
              data-category="Acessórios"
              data-desc="Mochila resistente com compartimento para notebook."
              data-images="assets/img-mochila.webp,assets/img-mochila.webp,assets/img-mochila.webp"
            >Detalhes</button>
            <button class="primary" data-action="add" data-id="4" data-name="Mochila Urbana" data-price="159.9" data-image="assets/img-mochila.webp">Adicionar</button>
          </div>
        </div>
      </article>
    </section>
  </main>

  <!-- Carrinho -->
  <aside id="cart" class="cart" aria-hidden="true">
    <header class="cart-header">
      <h2>Carrinho</h2>
      <button id="close-cart" aria-label="Fechar carrinho">×</button>
    </header>
    <ul id="cart-items" class="cart-items" aria-live="polite"></ul>
    <div class="cart-footer">
      <div class="totals">
        <span>Subtotal:</span> <strong id="cart-subtotal">R$ 0,00</strong>
      </div>
    </div>
  </aside>

  <!-- Modal de Detalhes do Produto -->
  <dialog id="product-modal">
    <form method="dialog" class="modal-content" style="border:none;max-width:900px;padding:0;">
      <button class="close" value="close" aria-label="Fechar" style="position:absolute;right:.5rem;top:.5rem;background:transparent;border:none;font-size:1.4rem;">×</button>
      <div class="modal-body" style="display:grid;grid-template-columns:1.2fr 1fr;gap:1rem;padding:1rem;">
        <div class="gallery" style="display:grid;gap:.5rem;">
          <img id="modal-main-img" alt="Imagem do produto" />
          <div id="modal-thumbs" class="thumbs" style="display:flex;gap:.5rem;"></div>
        </div>
        <div class="details" style="display:grid;gap:.5rem;">
          <h2 id="modal-title"></h2>
          <p id="modal-desc"></p>
          <p class="price" id="modal-price" style="font-weight:700;"></p>
          <button id="modal-add-cart" type="button" class="primary">Adicionar ao carrinho</button>
        </div>
      </div>
    </form>
  </dialog>

  <script src="js/script.js" defer></script>
</body>
</html>